<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Tablice Slovenije üá∏üáÆ</title>
    <style>
      body {
        font-family: "Arial", sans-serif;
        background: #529dba;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        padding: 0;
      }

      #quiz-container {
        width: 95%;
        position: relative;
        max-width: 450px; /* was 400px ‚Üí bigger */
        background: #fff;
        border-radius: 20px;
        padding: 25px;
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.25);
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
      }

      /* Floating score badge */
      #score-badge {
        position: absolute;
        top: 20px;
        right: 20px;
        background: #529dba;
        color: white;
        padding: 8px 12px;
        border-radius: 12px;
        font-weight: bold;
        font-size: 14px;
      }

      /* Timer */
      #timer {
        font-size: 18px;
        margin-bottom: 15px;
        font-weight: bold;
      }

      /* Question Image */
      #question-image {
        max-width: 100%;
        max-height: 300px; /* was 200px */
        border-radius: 12px; /* optional: more rounded corners */
        margin-bottom: 20px; /* a bit more spacing */
        object-fit: contain; /* keeps aspect ratio */
      }

      /* Buttons */
      .btn {
        width: 100%;
        padding: 18px;
        margin: 12px 0;
        border: none;
        border-radius: 12px;
        background: #529dba;
        color: white;
        font-size: 18px;
        cursor: pointer;
        transition: 0.3s;
      }

      .btn:hover {
        background: #1f6391;
      }

      .correct {
        background: #2ecc71 !important;
      }
      .wrong {
        background: #e74c3c !important;
      }

      #start-screen {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background: #529dba;
        color: white;
        text-align: center;
      }

      #start-btn {
        padding: 18px 30px;
        font-size: 20px;
        border: none;
        border-radius: 12px;
        background: #2ecc71;
        color: white;
        cursor: pointer;
        margin-top: 20px;
        transition: 0.3s;
      }

      #start-btn:hover {
        background: #27ae60;
      }

      #quiz-container#show-result {
        justify-content: center;
        align-items: center;
      }
      #result {
        font-size: 24px;
        font-weight: bold;
        white-space: pre-line;
        text-align: center;
      }

      #question-text {
        text-align: center;
        font-size: 18px;
        font-weight: bold;
        margin-bottom: 30px;
      }

      /* --- Mobile Scaling --- */
      @media (max-width: 768px) {
        #quiz-container {
          max-width: 95%; /* almost full width */
          padding: 30px;
        }

        #question-text {
          font-size: 22px;
        }

        #question-image {
          max-height: 40vh; /* scales nicely on phones */
        }

        .btn {
          padding: 22px;
          font-size: 20px;
        }

        #score-badge {
          font-size: 18px;
          padding: 10px 16px;
        }

        #timer {
          font-size: 18px;
        }

        #result {
          font-size: 26px;
        }
      }

      /* --- Very Small Devices (iPhone SE / 15 mini) --- */
      @media (max-width: 400px) {
        #quiz-container {
          padding: 25px;
          min-height: 380px;
        }
        #question-text {
          font-size: 20px;
        }
        .btn {
          padding: 18px;
          font-size: 18px;
        }
        #score-badge {
          font-size: 16px;
          padding: 8px 12px;
        }
        #timer {
          font-size: 16px;
        }
        #result {
          font-size: 24px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Start Screen -->
    <div id="start-screen">
      <h1>Registrske tablice Slovenije üá∏üáÆ</h1>
      <button id="start-btn">Zaƒçni</button>
    </div>

    <!-- Quiz Container (hidden initially) -->
    <div id="quiz-container" style="display: none">
      <div id="score-badge">0/40 (0%)</div>
      <div id="timer">Preostali ƒças: 10s</div>
      <img id="question-image" src="" alt="Question Image" />
      <div id="question-text"></div>
      <div id="answers"></div>
      <div id="result"></div>
    </div>

    <script>
      const questions = [
        {
          image: "images/ce-celje.png",
          text: "Grb je prevzet po delu grba Celjskih grofov.",
          answers: ["Celje", "La≈°ko", "≈†entjur pri Celju", "≈†marje pri Jel≈°ah"],
          correct: 0, // index of correct answer
        },
        {
          image: "images/ce-lasko.png",
          text: "Grb s tremi lilijami na modrem polju je morda izpeljan iz grba Celjskih grofov.",
          answers: ["Celje", "La≈°ko", "≈†entjur pri Celju", "≈†marje pri Jel≈°ah"],
          correct: 1,
        },
        {
          image: "images/ce-sentjurpricelju.png",
          text: "Grb prikazuje Sv. Jurija, ki prebada zelenega zmaja.",
          answers: [
            "Slovenske Konjice",
            "La≈°ko",
            "≈†entjur pri Celju",
            "≈†marje pri Jel≈°ah",
          ],
          correct: 2,
        },
        {
          image: "images/ce-slovenskekonjice.png",
          text: "Na grbu je upodobljen neosedlan konj bele barve.",
          answers: [
            "Celje",
            "Slovenske Konjice",
            "≈†entjur pri Celju",
            "≈†marje pri Jel≈°ah",
          ],
          correct: 1,
        },
        {
          image: "images/ce-smarjeprijelsah.png",
          text: "Prikazan je grb rodbine Gaisruckov ter jel≈°eva vejica.",
          answers: [
            "Velenje",
            "La≈°ko",
            "≈†entjur pri Celju",
            "≈†marje pri Jel≈°ah",
          ],
          correct: 3,
        },
        {
          image: "images/ce-velenje.png",
          text: "Grb simbolizira so≈æitje starega in novega s simbolnim pogledom na stolpnico novega mesta skozi obzidje starega gradu.",
          answers: ["Celje", "Velenje", "Slovenske Konjice", "Slovenj Gradec"],
          correct: 1,
        },
        {
          image: "images/go-ajdovscina.png",
          text: "Zgornji del grba predstavlja rimski stolp s ≈°tirimi cinami.",
          answers: ["Ajdov≈°ƒçina", "Nova Gorica", "Tolmin", "Idrija"],
          correct: 0,
        },
        {
          image: "images/go-idrija.png",
          text: "Na grbu je upodobljen rimski bog trgovanja Merkur (opozarja na ≈æivo srebro).",
          answers: ["Ajdov≈°ƒçina", "Nova Gorica", "Tolmin", "Idrija"],
          correct: 3,
        },
        {
          image: "images/go-novagorica.png",
          text: "Grb simbolizira tradicijo gojenja vrtnic v Ro≈æni Dolini.",
          answers: ["Ajdov≈°ƒçina", "Nova Gorica", "Tolmin", "Idrija"],
          correct: 1,
        },
        {
          image: "images/go-tolmin.png",
          text: "Grb simbolizira pomemben zgodovinski dogodek - veliki punt (kmeƒçki upor) iz leta 1713.",
          answers: ["Ajdov≈°ƒçina", "Nova Gorica", "Tolmin", "Idrija"],
          correct: 2,
        },
        {
          image: "images/kk-brezice.png",
          text: "Osnova dana≈°njemu grbu je mestni grb iz leta 1501, ki ga je mestu podelil svetorimski kralj Maksimilijan I. Habsbur≈°ki.",
          answers: ["Bre≈æice", "Kr≈°ko", "Sevnica", "Kostanjevica na Krki"],
          correct: 0,
        },
        {
          image: "images/kk-krsko.png",
          text: "Na grbu je Sv. Janez Evangelist s kelihom v levici, iz katerega izvirajo tri kaƒçe.",
          answers: ["Bre≈æice", "Kr≈°ko", "Sevnica", "Kostanjevica na Krki"],
          correct: 1,
        },
        {
          image: "images/kp-ilirskabistrica.png",
          text: "Osrednji motiv na svetlo modri podlagi grba predstavlja zlatorumena ladja liburna (majhna ladja ilirskih plemen).",
          answers: ["Ilirska Bistrica", "Izola", "Koper", "Se≈æana"],
          correct: 0,
        },
        {
          image: "images/kp-izola.png",
          text: "Grb prikazuje napad na mesto, ko se je iz zvonika cerkve spustila bela golobica in zaslepila napadalce, ki so morali odpluti nazaj, ne da bi se dotaknili mesta.",
          answers: ["Ilirska Bistrica", "Izola", "Koper", "Piran"],
          correct: 1,
        },
        {
          image: "images/kp-koper.png",
          text: "Na grbu je rumeno stilizirano sonce, upodobljeno s ƒçlove≈°kim obrazom in ≈°estnajstimi ≈æarki.",
          answers: ["Ilirska Bistrica", "Izola", "Koper", "Piran"],
          correct: 2,
        },
        {
          image: "images/kp-piran.png",
          text: "Na grbu je upodobljen polkro≈æni kri≈æ Sv. Jurija.",
          answers: ["Ilirska Bistrica", "Izola", "Koper", "Piran"],
          correct: 3,
        },
        {
          image: "images/kp-sezana.png",
          text: "Osrednji motiv grba je vodnjak, iz katerega raste borovec z od vetra upognjenim deblom ter kro≈°njo.",
          answers: ["Ilirska Bistrica", "Izola", "Se≈æana", "Piran"],
          correct: 2,
        },
        {
          image: "images/kr-jesenice.png",
          text: "Na grbu je upodobljen znak za ≈æelezo in zaƒçetnica mesta.",
          answers: ["Jesenice", "Kranj", "Radovljica", "Tr≈æiƒç"],
          correct: 0,
        },
        {
          image: "images/kr-kranj.png",
          text: "Na grbu je uprizorjen ande≈°ki orel, simbol mestnih gospodov.",
          answers: ["Jesenice", "Kranj", "Radovljica", "Tr≈æiƒç"],
          correct: 1,
        },
        {
          image: "images/kr-radovljica.png",
          text: "Osnova grba je peƒçat mesta iz leta 1514.",
          answers: ["Jesenice", "Kranj", "Radovljica", "Tr≈æiƒç"],
          correct: 2,
        },
        {
          image: "images/kr-trzic.png",
          text: "Na grbu je upodobljeno srebrno obzidje iz sedmih vrst klesanega kamna in ≈°tirimi strelnimi linami.",
          answers: ["Jesenice", "Kranj", "Radovljica", "Tr≈æiƒç"],
          correct: 3,
        },
        {
          image: "images/lj-cerknica.png",
          text: "Na grbu so stilizirane znaƒçilnosti naravne krajine.",
          answers: ["Ljubljana", "Cerknica", "Dom≈æale", "Kamnik"],
          correct: 1,
        },
        {
          image: "images/lj-domzale.png",
          text: "Grb sestavljajo trije zlati ≈æitni klasi na modrem ozadju, med seboj prepleteni v slamnikarsko kito.",
          answers: ["Logatec", "Cerknica", "Dom≈æale", "Kamnik"],
          correct: 2,
        },
        {
          image: "images/lj-kamnik.png",
          text: "Na grbu je uprizorjen grajski stolp. Med vrati stolpa s streho je upodobljena Veronika, pol kot ≈æenska in pol kot kaƒça s krono na glavi.",
          answers: ["Litija", "Cerknica", "Dom≈æale", "Kamnik"],
          correct: 3,
        },
        {
          image: "images/lj-kocevje.png",
          text: "Na grbu je upodobljen sveti Jernej, za≈°ƒçitnik mesta, v ozadju je utrdba, v ospredju pa pleten obrambni zid rjave barve.",
          answers: ["Koƒçevje", "Cerknica", "Dom≈æale", "Kamnik"],
          correct: 0,
        },
        {
          image: "images/lj-ljubljana.png",
          text: "Na vrhu gradu je upodobljen zmaj, ki ponazarja moƒç, pogum in veliƒçino.",
          answers: ["Ljubljana", "Kamnik", "Logatec", "Vrhnika"],
          correct: 0,
        },
        {
          image: "images/lj-logatec.png",
          text: "Na grbu je na rdeƒçi podlagi upodobljeno zlato kolo vpre≈ænega voza, krasi ga pet lipovih listov.",
          answers: ["Dom≈æale", "Kamnik", "Logatec", "Vrhnika"],
          correct: 2,
        },
        {
          image: "images/lj-ribnica.png",
          text: "Modra, po≈°evno-vzpenjajoƒça riba izvira iz Valvasorjevih ƒçasov.",
          answers: ["Ribnica", "Kamnik", "Dom≈æale", "Vrhnika"],
          correct: 0,
        },
        {
          image: "images/lj-vrhnika.png",
          text: "Osrednji motiv predstavlja Jazonova ladja na valovih Ljubljanice.",
          answers: ["Litija", "Kamnik", "Logatec", "Vrhnika"],
          correct: 3,
        },
        {
          image: "images/mb-maribor.png",
          text: "Nad obzidjem gradu lebdi srebrn, na glavo obrnjen golob z razprtimi krili.",
          answers: ["Maribor", "Slovenska Bistrica", "Ptuj", "Lenart"],
          correct: 0,
        },
        {
          image: "images/mb-ptuj.png",
          text: "Eden izmed najstarej≈°ih mestnih grbov prikazuje kri≈æ Sv. Jurija.",
          answers: ["Maribor", "Slovenska Bistrica", "Ptuj", "Lenart"],
          correct: 2,
        },
        {
          image: "images/mb-slovenskabistrica.png",
          text: "Na grbu je upodobljeno nazobƒçano obzidje srebrne barve s petimi cinami, za katerim se dvigajo trije stolpi srebrne barve.",
          answers: ["Maribor", "Slovenska Bistrica", "Ptuj", "Lenart"],
          correct: 1,
        },
        {
          image: "images/ms-lendava.png",
          text: "Izhodi≈°ƒçna osnova za grb je grad, ki stoji na hribu, pod njim so stilizirani trije potoki.",
          answers: ["Murska Sobota", "Lendava", "Ormo≈æ", "Ljutomer"],
          correct: 1,
        },
        {
          image: "images/ms-murskasobota.png",
          text: "Grb na sodoben naƒçin povzema podobo ravninskega mesta, ki se kot srebrna ƒçrta ble≈°ƒçi na robu horizonta nad katerim vzhaja in zahaja sonce.",
          answers: ["Murska Sobota", "Lendava", "Ormo≈æ", "Ljutomer"],
          correct: 0,
        },
        {
          image: "images/nm-crnomelj.png",
          text: "Na grbu je rdeƒçi grajski stolp na ƒçrnem ozadju.",
          answers: ["ƒårnomelj", "Metlika", "Novo mesto", "Trebnje"],
          correct: 0,
        },
        {
          image: "images/nm-metlika.png",
          text: "Dno grba pokrivajo zelena tla, na katerih stoji rdeƒçe obzidje.",
          answers: ["ƒårnomelj", "Metlika", "Novo mesto", "Trebnje"],
          correct: 1,
        },
        {
          image: "images/nm-novomesto.png",
          text: "Na sredini grba je upodobljen ustanovitelj mesta, nadvojvoda Rudolf IV. Habsbur≈°ki.",
          answers: ["ƒårnomelj", "Metlika", "Novo mesto", "Trebnje"],
          correct: 2,
        },
        {
          image: "images/po-postojna.png",
          text: "V grbu je srebrni orel belorepec z zlatim kljunom in kremplji, pod njim pa ƒçlove≈°ka ribica.",
          answers: ["Postojna", "Ilirska Bistrica", "Vrhnika", "Idrija"],
          correct: 0,
        },
        {
          image: "images/sg-dravograd.png",
          text: "Osnova grba je peƒçat trga iz leta 1575.",
          answers: [
            "Slovenj Gradec",
            "Dravograd",
            "Ravne na Koro≈°kem",
            "Radlje ob Dravi",
          ],
          correct: 1,
        },
        {
          image: "images/sg-slovenjgradec.png",
          text: "Grbu mesta je osnova mestni peƒçat iz zaƒçetka 14. stoletja.",
          answers: [
            "Slovenj Gradec",
            "Dravograd",
            "Ravne na Koro≈°kem",
            "Radlje ob Dravi",
          ],
          correct: 0,
        },
      ];

      let currentQuestion = 0;
      let score = 0;
      let timer;
      let timeLeft = 10;

      const timerEl = document.getElementById("timer");
      const text = document.getElementById("question-text");
      const imageEl = document.getElementById("question-image");
      const answersEl = document.getElementById("answers");
      const resultEl = document.getElementById("result");
      let currentAnswerOptions = []; // store shuffled answers for the current question

      function updateScoreBadge() {
        const badge = document.getElementById("score-badge");
        const percentage = Math.round((score / questions.length) * 100);
        badge.textContent = `${currentQuestion + 1}/${questions.length}`;
      }

      function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      function startTimer() {
        timeLeft = 10;
        timerEl.textContent = `Preostali ƒças: ${timeLeft} s`;
        timer = setInterval(() => {
          timeLeft--;
          timerEl.textContent = `Preostali ƒças: ${timeLeft} s`;
          if (timeLeft <= 0) {
            clearInterval(timer);
            showCorrectAnswer();
            setTimeout(nextQuestion, 2000);
          }
        }, 1000);
      }

      function showQuestion() {
        if (currentQuestion >= questions.length) {
          showFinalResult();
          return;
        }

        const q = questions[currentQuestion];
        document.getElementById("question-text").textContent = q.text;
        imageEl.src = q.image;
        answersEl.innerHTML = "";
        resultEl.textContent = "";

        // Create answer objects with correctness
        currentAnswerOptions = q.answers.map((text, idx) => ({
          text: text,
          isCorrect: idx === q.correct,
        }));

        // Shuffle them
        shuffle(currentAnswerOptions);

        // Display buttons
        currentAnswerOptions.forEach((option) => {
          const btn = document.createElement("button");
          btn.textContent = option.text;
          btn.classList.add("btn");
          btn.addEventListener("click", () => selectAnswer(option));
          answersEl.appendChild(btn);
        });

        startTimer();
        updateScoreBadge();
      }

      function selectAnswer(option) {
        clearInterval(timer);
        const buttons = document.querySelectorAll(".btn");

        if (option.isCorrect) {
          // User clicked correct
          buttons.forEach((btn) => {
            if (btn.textContent === option.text) btn.classList.add("correct");
          });
          score++;
        } else {
          // User clicked wrong
          buttons.forEach((btn) => {
            if (btn.textContent === option.text) btn.classList.add("wrong");
            // Highlight the correct answer
            const correctAnswer = currentAnswerOptions.find((a) => a.isCorrect);
            if (btn.textContent === correctAnswer.text)
              btn.classList.add("correct");
          });
        }

        updateScoreBadge();
        setTimeout(nextQuestion, 2000);
      }

      function showCorrectAnswer() {
        const buttons = document.querySelectorAll(".btn");
        const correctAnswer = currentAnswerOptions.find((a) => a.isCorrect);

        buttons.forEach((btn) => {
          if (btn.textContent === correctAnswer.text) {
            btn.classList.add("correct");
          }
        });
      }

      function nextQuestion() {
        currentQuestion++;
        showQuestion();
      }

      function showFinalResult() {
        imageEl.style.display = "none";
        text.style.display = "none";
        answersEl.innerHTML = "";
        timerEl.style.display = "none";
        resultEl.textContent = `Konec!\n\nTvoj uspeh: ${score}/${
          questions.length
        } (${(score * 100) / questions.length}%)`;
      }

      // Start quiz
      document.getElementById("start-btn").addEventListener("click", () => {
        // Hide start screen
        document.getElementById("start-screen").style.display = "none";
        // Show quiz container
        document.getElementById("quiz-container").style.display = "flex";

        // Shuffle questions if you want random order
        shuffle(questions);

        // Start the quiz
        showQuestion();
      });
    </script>
  </body>
</html>
